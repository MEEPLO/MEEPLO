# 처음 배우는 리액트 네이티브



## 프로젝트 생성

```bash	
npx react-native init {projectName} {--version x.xx.x}
```

> 프로젝트 이름은 알파벳 대소문자 + 숫자만 가능
>
> 특정 버전만 허용하게 하고 싶다면 version 옵션 추가!



* 프로젝트를 생성하고 나면, `package.json`에서 해당 내용 확인 가능

```json
  "scripts": {
    "android": "react-native run-android",
    "ios": "react-native run-ios",
    "start": "react-native start",
    "test": "jest",
    "lint": "eslint ."
  },
```



## 프로젝트 실행

```bash
npm run ios / android
npx react-native run-ios / run-android
```



## Expo

다양한 기능을 제공해서 RN 개발을 도와주는 도구

처음 접하는 사람들이 사용하기 좋음

RN에서 기본 제공하지 않는 기능도 있음

* 단점
  * Expo에서 제공하는 것 외에 module을 추가로 만들어서 사용하는 것은 불가
  * RN 버전이 Expo 내에서 가용한 것으로 강제

### 프로젝트 생성

```bash
npm install --global expo-cli

expo init {프로젝트 이름}
```

> 이름은 알파벳 대소문자, 숫자, @.-_ 가능



### 프로젝트 실행

![image-20221028104756658](처음 배우는 리액트 네이티브.assets/image-20221028104756658.png)

expo 실행 후, `i` => iOS, `a` => android

`shift`키와 함께 누르면, 실행 가능 기기 목록을 확인할 수 있음



---



## JSX

JavaScript + Xml

객체 생성과 함수 호출을 위한 문법적 편의를 제공하기 위해 만들어진 확장 기능

React, ReactNative에서 사용됨

* JSX 로 작성된 코드 -> Babel -> JS로 변환

> **Babel 이란?**
>
> ES6이상 혹은 JSX같은 코드를 브라우저가 이해할 수 있는 JS로 변환해주는 transcomplier이다.
>
> Babel로 변환된 결과는 babel 홈페이지에서 직접 테스트 가능하다.



### 문법

1. 반드시 **하나의 부모**로 감싼 형태로 반환되어야 한다.
   * `<View>`는 웹 프로그래밍의 `<div>`와 비슷한 역할을 한다. 역할을 하는 부모의 형태이다.
   * `<Fragment>` == `<>`  역할이 없는 부모의 형태이다.
2. JS 변수를 전달할 수 있다.
   * `{}` 중괄호로 감싸서 사용한다.

```react
export default function App () {
    const name = "HRooKIM";
    return (
    	<>
        <Text>Hi, This is {name}</Text>
        </>
    )
    
}
```



3. if 조건문으로 상황에 따라 다른 렌더링을 할 수 있다.

![image-20221028125522507](처음 배우는 리액트 네이티브.assets/image-20221028125522507.png)

> **if문 사용시,** 즉시 실행 함수 형태로 작성해야 한다.
>
> 그러므로 로직이 복잡해지면, JSX 밖에서 조건문을 처리하고 이 안에서는 간단하게 처리하는 것을 추천한다.

4. 삼항연산자 / AND 연산자 / OR 연산자
5. `null`과 `undefined`
   * JSX에서 `null`은 아무것도 렌더링하지 않고, 문제도 발생하지 않는다.
   * `undefined`는 에러가 발생한다.

6. 주석 작성 방법
   * `{/*  내용을 적어주세요><  */}`
   * 태그 안에서의 주석은 일반 JS의 주석과 동일한 형태 `//`



## 스타일링

### React Native의 `StyleSheet` 

* css의 class를 정의하는 것과 동일하다고 보면 된다.

![image-20221028130042058](처음 배우는 리액트 네이티브.assets/image-20221028130042058.png)



### 인라인 스타일링

* `style={스타일 객체}` 속성을 부여 한다!
* 이때  css 속성에 대한 아이들은 카멜케이스로 작성한다!
  * `fontSize`, `fontWeight` 같이...



---

## 컴포넌트

* SW 시스템에서 독립적인 기능을 수행하는 모듈로서, 교체가 가능한 부품이다.
* RN에서는, 재사용할 수 있는 조립 부품으로 화면에 나타나는 UI 요소로 보면 된다.



### 내장 컴포넌트

> React Native에서는 다양한 컴포넌트를 제공하고 있고, 공식 홈페이지에서 확인 가능하다.

https://reactnative.dev/docs/components-and-apis



---

## 커스텀 컴포넌트

### 커스텀 컴포넌트

* 특정 속성들을 조합해서 새로운 컴포넌트를 만들어서 사용할 수 있다.
* 이미 만들어져 있는 컴포넌트 라이브러리도 있다!

![image-20221028135200920](처음 배우는 리액트 네이티브.assets/image-20221028135200920.png)



#### 클래스 컴포넌트 vs 함수 컴포넌트

![image-20221028135608737](처음 배우는 리액트 네이티브.assets/image-20221028135608737.png)

> 렌더 함수 vs returnans
>
> 컴포넌트에서 state가 함수 컴포넌트에서도 관리 가능하기 때문에, 함수 컴포넌트를 권장한다!



### Button 커스텀 -> 현재는 `Pressable`이용하기

* `hitSlop`으로HitRect 지정하기
  * 사용자의 손이 정확하지 않아서 정확하게 그 버튼만 누르기 힘들기 때문에, 그 주위의 범위도 button을 누른 것이라고 인식하게 만들기 위해 지정하는 옵션
  * margin과 다르게 컴포넌트 크기 영역을 차지 하지 않지만 press에 대한 동작 인식 범위에는 들어간다

* `pressRetentionOffset`
  * 사용자가 버튼을 눌렀다가 다른 곳으로 이동하면, press 되지 않은 것처럼 할 수 있다.



---

## Props

### Props vs State

#### Props

* 외부(부모)에서 전달 (부모가 자식에게 전달하는 것)
* 수정 불가능

### State

* 내부에서 생성 (컴포넌트가 자체적으로 갖고 있는 것)
* 수정 가능



### Props

```react
<MyButton>내가 지금 적고 있는것은 children으로 접근할 수 있어요</MyButton>

// MyButton.js
console.log(props.children)
// 내가 지금 적고 있는것은 children으로 접근할 수 있어요
```

![image-20221028142623226](처음 배우는 리액트 네이티브.assets/image-20221028142623226.png)



### DefaultProps

* 아무것도 Props로 받지 않았을 때, 공란을 렌더링하면 안되니까 컴포넌트에서 디폴트로 만들 수 있음

```react
// MyButton.js

const MyButton = ({
  title = "제목 기본값",
  onPress = () => alert("기본값!"),
  children,
}) => {
  return (
    <TouchableOpacity>
          ...
    </TouchableOpacity>
  );
};

```

* 컴포넌트의 `defaultProps` 사용하기

```react
// MyButton.js에서 객체 형태로

MyButton.defaultProps = {
    title: "default",
    onPress: () => alert("default")
}
```



### PropTypes

```bash
npm install --save prop-types
```

* TS 처럼 props의 type을 지정해서 형태에 맞는 것만 렌더링하게 하고, 아닐 경우 에러를 띄운다. 
* *뭔가.. 내가 직접 모듈을 만들어서 사용할 때 유용한 것 같음..?*



---

## State

![image-20221028150202127](처음 배우는 리액트 네이티브.assets/image-20221028150202127.png)

> 부모 컴포넌트가 리렌더링될 때, 자식 컴포넌트도 같이 리렌더링된다!!



### useState

* React Hooks 중 하나
* 함수 컴포넌트에서 state를 생성하고 수정할 수 있는 훅

``` react
const [myState, setMyState] = useState({초기값})
```

* 수정할 때는 항상 setter 함수를 이용해서 수정한다!



---

## Event

### Press

### Change



---

## Styling

### StyleSheet 이용하기

```react
const styles = StyleSheet.create({
  text: {
    backgroundColor: "white",
    color: "black",
  },
  errorText: {
    backgroundColor: "red",
    color: "black",
    fontSize: 30,
  },
});
```

> 이때, text는 공통으로 가져가고 errorText만 덮어 씌우고 싶다면! 배열로 입력을 하면 된다.

```react
    <>
      <Text style={[styles.text]}>그냥 텍스트</Text>
      <Text style={[styles.text, { color: "orange", fontSize: 20 }]}>
        인라인 텍스트
      </Text>
      <Text style={[styles.text, styles.errorText]}>에러메시지</Text>
    </>
```

> 배열의 뒤에 있는 것이 앞에 있는 것에 덮어 씌워진다.
>
> 이 때 인라인으로 스타일 객체를 넣어줘도 가능하다!!

![image-20221028155126051](처음 배우는 리액트 네이티브.assets/image-20221028155126051.png)



---

## Flexbox

* 기기마다 사이즈가 다양하므로, 비율로 차지하게 만들 수 있다!

![image-20221028155654448](처음 배우는 리액트 네이티브.assets/image-20221028155654448.png)

> 웹은 옆으로 12개의 column이 있다는 가정하에 만들어졌지만, RN에서의 flex는 세로를 비율로 가져간다!



---

## 그림자

>  RN에서 그림자 속성은 iOS에만 적용되는 속성이었는데, 안드로이드 28 이상부터 가능하다! 그 이하 안드로이드는 `elevation`이라는 속성을 줘야 한다.



### Platform

* 그림자는 속성에 따라 해당 플랫폼에 적용될 수도 있고, 아닐 수도 있다.
* OS마다 다르게 동작이 가능하다><